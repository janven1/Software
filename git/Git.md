---
date: 2025-10-06
type: Tutorial
sort: git
source: video
status: updating
---

# 1. VsCode + Git
- [ ] [给傻子的Git教程](https://www.bilibili.com/video/BV1Hkr7YYEh8/?spm_id_from=333.337.search-card.all.click&vd_source=aef73766b941d8e52cb9a97d24ea42a2)

# 1. 简介
(link::[一小时Git教程](https://www.bilibili.com/video/BV1HM411377j/?spm_id_from=333.788.top_right_bar_window_history.content.click&vd_source=aef73766b941d8e52cb9a97d24ea42a2))
- **Git是一个免费开源的分布式版本控制系统**，它使用一个特殊的叫做仓库的数据库来记录文件的变化。仓库中的每个文件都有一个完整的版本历史记录，可以看到谁在什么时间修改了哪些文件的哪些内容，在需要的时候也可以将文件恢复到之前的某一个版本；

- 如果我们没有版本控制，那么我们就只能通过最原始的方式来管理文件，比如将文件按照日期备份出多个副本，比如将文件按照日期备份出多个副本或者将整个项目的每个版本都保存在不同的文件夹中；而当很多项目成员同时在修改同一个项目的时候就需要手工来合并两个人的修改内容；这样不但低效管理起来也非常麻烦。

有了版本控制系统，我们就可以跟踪每个文件的变化，让项目成员之间的协作更加高效，目前世界上最流行的版本控制系统有两种
1. 一种是**集中式版本控制系统**，比如SVN、CVS等等；集中式版本控制系统的工作流程就像下面这张图一样，所有的文件都保存在中央服务器上 ，每个人的电脑上，只保存了一个副本；
	![[集中式.png|340x236]]
	- 当你需要修改文件的时候，首先要从中央服务器上下载最新的版本，然后添加你想要的修改内容；
	- 集中式版本控制系统的<font color="#00b050">优点</font>是使用起来非常简单，不需要考虑其他问题；
	- 但是它的<font color="#ff0000">缺点</font>也非常明显，就是中央服务器的单点故障问题，如果甲央服务器出现敌障或者网络连接出现问题那么所有人都无法工作了，只能等待中央服务器或者网络恢复正常
2. 另一种是**分布式版本控制系统**，比如Git、Mercurial等等；
	![[分布式.png|341x198]]
	- 每个人的电脑上都有一个完整的版本库，每个人的电脑上都有一个完整的版本库，不需要考虑网络问题，这样即使中央服务器出现故障，我们也可以继续工作。当需要将我们的修数内容纷享给其他人的时候，只需要将仓库互相同步一下就可以了；
	- 因为免费开源速度快功能强大，支持离线工作以及强大的分支管理等特性，Git已经成为了目前世界上最先进的分布式版本控制系统，世界上超过90%的开源项目都在使用iGt进行版本控制；GitHub、GitLab、Gitee 等网站上托管的开源项目也都是使用 Git 进行版本管理的，对于开发者来说掌握Gt可以说是必不可少的技能；

**应用场景**：论文；

# 2.安装和初始化配置
(link::[02.安装和初始化配置](https://www.bilibili.com/video/BV1HM411377j?spm_id_from=333.788.videopod.sections&vd_source=aef73766b941d8e52cb9a97d24ea42a2&p=2))
## Git 的使用方式
(link1::[Git的使用方式](https://www.bilibili.com/video/BV1HM411377j?t=65.2&p=2))
1.**图形化界面(GUI)**
2.**IDE插件/扩展**
3.**命令行**
- 这样不但可以加深对 Git 的理解，还可以提我们的工作效率；
- 为了区分`Linux`操作系统中的命令，Git的所有命令都以git开头，后面跟着具体的命令。比如git init就是初始化一个仓库，Git命令非常多
- **命令pdf**：[[GitCheatSheet_byGeekHour_v1.0.0.pdf#page=1|GitCheatSheet_byGeekHour_v1.0.0, p.1]]
![[Git-Cheet-Sheet-ByGeekHour.png|456x215]]

**终端的一些配置**：
1. 当前所在目录位置；
2. Git的分支名称和当前仓库的状态等信息，那这个也不是必须的不配置的话也完全不会影响Git的使用；
**配置位置**：
- Mac：iTerm2 + Zsh + oh-my-zsh + Agnoster 
- Windows：posh-Git
### 第一步：初始化设置
先使用`git config`命令**配置一下用户名和邮箱**，这样在提交的时候才能够识别出来是谁提交的内容
```Git
git config --global user.name "Your Name"
git config --global user.email "mail@example.com" 
```
- `省略(Local)`：**本地配置**，只对本地仓库有效；
- `--global`：**全局配置**，所有仓库生效，使用最多；
- `--system`：**系统配置**，对所有用户生效，一般不会使用 `--system`；
```Git
Author: janven1 <941004751@qq.com>
```
**保存配置**：
```Git
git config --global credential.helper store
```
**查看Gt的配置信息**：
```Git
git config --global --list
```
# 3. 新建仓库
(link::[3.新建仓库](https://www.bilibili.com/video/BV1HM411377j?vd_source=aef73766b941d8e52cb9a97d24ea42a2&p=3&spm_id_from=333.788.player.switch))
版本库又叫仓库，英文名叫Repository 简称 Repo。大家可以把仓库理解成一个目录，这个目录里面所有的文件都可以被Git管理起来，每个文件的修改、删除、添加等操作，Git都能够跟踪到，以便任何时候都可以追踪历史或者还原到之前的某一个版本；
创建一个仓库非常的简单，只需要把一个目录变成Git可以管理的仓库就可以了，一般来说可以通过两种方式来创建一个仓库——
## 1. `git init`

在自己电脑本地直接创建一个仓库；
首先需要找到一个合适的位置来创建一个空目录，比如这里我们就创建一个叫做learn-git的目录；
- 跳转到某个具体的文件夹
```powershell
cd "文件或文件夹的路径"
```

- 创建⼀个新的本地仓库 （省略 `project-name` 则在当前⽬录创建。）
```Git
git init <project-name>
```

- 查看该文件下的所有文件和文件夹，包括隐藏的部分；
```powershell
ls -force
```

- 删除文件
```powershell
Remove-Item -Path "文件路径" -Force
```
## 2. `git clone`
`git clone` 命令来从 `Github` 或者 `Gitee`，从远程服务器上克隆一个已经存在的仓库；
- 克隆⼀个远程仓库。
```Git
git clone <url>
```
# 4.工作区域和文件状态
(link::[04.工作区域和文件状态](https://www.bilibili.com/video/BV1HM411377j?vd_source=aef73766b941d8e52cb9a97d24ea42a2&spm_id_from=333.788.player.switch&p=4))
## 1. 工作区域

Git 的本地数据管理分为三个区域，分别是工作区、暂存区和本地仓库；
- **工作区** Working Directory，（`.git` 所在的目录）也叫工作目录或者本地工作目录，就是我们自己电脑上的目录，大家在资源管理器里面能够看到的文件夹就是工作区
- **暂存区** Staging Area，（`.git/index`）也称为索引 Index，是一种临时存储区域，用于保存即将提交到 Git 仓库的修改内容，**暂存区域是在 Git 进行版本控制时非常重要的一个区域**；
- **本地仓库** Local Repository，（`.git/objects`）就是通过 `git init` 命令创建的那个仓库，它包含了完整的项目历史和元数据，是Git存储代码和版本信息的主要位置

![[工作区域.png|550x223]]
简单来说工作区就是我们实际操作的目录，暂存区就是一个中间区域，用于临时存放即将提交的修改内容，本地仓库是 Git 存储代码和版本信息的主要位置；
1. 当你修改完工作区的文件之后，需要将它们添加到暂存区；（`git add`）
2. 然后再将暂存区的修改提交到本地仓库中；（`git commit`）
3. 这个过程中我们可以使用 Git 提供的命令来查看、比较或者撤销修改，来保证版本控制的准确性和完整性

举个形象一点的例子来说明一下这三个区域：我们可以把仓库理解成工厂里面的仓库，这个仓库里面有很多的货物和产品，这些货物和产品就是我们的文件，比如说我们的代码文件文本文件图片文件等等；工作区就是生产这些货物的车间，对我们的货物进行生产加工和修改，车间生产完这些产品之后，需要运送到仓库里面保管起来；那车间和仓库之间需要有一个运输工具，比如我们使用小货车来运输的话，那这个小货车里面就是暂存区，车间生产完产品之后，把产品放到小货车上，然后运输到仓库里面保存起来；

联系到工作中，当我们的代码完成了一个阶段想存档备份的时候，就可以把这个版本放到本地仓库里面保存起来；在版本控制系统中，这个保存到仓库中的过程就叫做**提交**，但是如果我们每次文件修改之后都需要进行一次提交的话会比较麻烦，所以Git给我们提供了一种方式，也就是可以将修改的文件先添加到暂存区中，然后再把所有暂存区中的文件统一执行一下提交操作；联想到我们刚才的例子就是我们的车间生产完货物之后，并不是每次都需要运送到仓库里面，而是先把这些货物放到小货车上，然后一次性的运送到仓库里面保存起来；
## 2. 文件状态
相应的Git中的文件也存在几种状态，分别是未跟踪、未修改、已暂存、已提交；
- **未跟踪** Untrack：就是我们新创建的，还没有被Git管理起来的文件
- **未修改** Unmodified：我们已经被Git管理起来，但是文件的内容没有发生变化，还没有被修改过；
- **已修改** Modified：我们修改了文件，但是还没有添加到暂存区里面；
- **已暂存** Staged：已暂存就是我们修改后，并且已经添加到了暂区域内的文件；
![[文件状态.png|468x221]]
# 5. 添加和提交文件
(link::[05.添加和提交文件](https://www.bilibili.com/video/BV1HM411377j?vd_source=aef73766b941d8e52cb9a97d24ea42a2&spm_id_from=333.788.videopod.sections&p=5))
## 0.1 查看仓库状态
- 查看仓库的状态
```git
git status
```
大家可能会看到自己的分支名称是`master`而不是`main`，这是由于Git的版本不同导致的，不用担心这个并不影响我们的学习，等到后面学习分支的时候再来详细讲一下这个问题；

- **创建一个文件**：将 “文字” 写入`.txt`文件中；并查看该文件的内容；
```powershell
echo '文字' > file.txt
cat file.txt
```
## 0.2 查看提交记录
```Git
git log
```
每次提交都有一个唯一的提交ID，就是 `commit` 后面这个16进制的字符串，还有每次提交的作者和邮箱，以及提交的时间和刚刚提交时编写的注释信息等等内容；这里的名字和邮箱就是我们使用 `git config` 命令配置的；

`git log` **的参数**：
```Git
git log --oneline
```
来查看简洁的提交记录，这样就只显示每次提交的 ID 和提交信息了

## 1. 添加到缓存区
- 将文件添加到暂存区中，等待后续的提交操作
```Git
git add <file>
```
- 把添加到暂存区的文件再取消暂存
```Git
git rm --cached <file>...
```
- `git add` 命令还可以使用通配符来添加多个文件
```Git
git add <*.filetype>
git add *.txt
```
- `git add` 命令还可以接受文件夹作为参数
- 添加所有文件
```Git
git add .
```
## 2. 提交到仓库
我们的文件只有被提交到仓库中才算真正的被保管起来。
这里有一个需要注意的地方，就是 `git commit` 这个命令只会提交暂存区中的文件，而不会提交工作区中的其他文件
- 提交
```Git
git commit -m <files>
```
- `-m` 指定提交的信息，这个信息会被记录到仓库中；如果不指定 `-m` 这个参数，那么`git commit`命令会进入一个交互式的界面，默认会使用vim来编辑提交信息；
等到我们学习远程仓库的时候，再来演示一下，到时候就可以直观的看到本地仓库的哪些文件的哪些内容被提交到了远程仓库里面，大家的理解会更加深刻一点；


# 6. `git reset` 回退版本（未实践代码）
(link::[06.git reset回退版本](https://www.bilibili.com/video/BV1HM411377j?vd_source=aef73766b941d8e52cb9a97d24ea42a2&p=6&spm_id_from=333.788.videopod.sections))
在日常开发的时候，我们经常会需要撤销之前的一些修改内容或者回退到之前的某一个版本，这个时候 `get reset` 这个命令就派上用场了，可以退回到之前的某一个提交的状态;

`git reset` **的三种模式**：
- (link2::[代码演示](https://www.bilibili.com/video/BV1HM411377j?t=84.3&p=6))

三种不同类型的参数
- `--soft` 参数表示回退到某一个版本，并且保留工作区和暂存区的所有修改内容
- `--hard` 的参数表示回退到某一个版本，并且丢弃工作区和暂存区的所有修改内容
- `--mixed` 这个参数就是介于 `--soft` 和 `--hard` 这两个参数之间，它表示回退到某一个版本，并且只保留工作区的修改内容，而丢弃暂存区的修改内容；
- -`-mixed` 也是 `reset` 命令的默认参数
```Git
git reset --soft 回退版本ID
git reset --hard 回退版本ID
git reset --mixed 回退版本ID
```
![[git reset的三种模式.png|445x221]]

- **文件夹复制**：
``` powershell
cp -rf <old_folder> <new_folder>
```

**应用场景**：
一般来说当我们连续提交了多个版本，但是又觉得这些提交没有太大意义，可以合并成一个版本的时候，就可以通过这两个参数来进行回退之后再重新提交
那它们主要的区别就是在重新提交之前，混合模式需要执行一下 `get add` 操作来将变动的内容重新添加到暂存区；
`--hard` 参数的使用场景则一般是你真的要放弃目前本地的所有修改内容的时候，那建议大家谨慎使用 `--hard` 这个参数，因为它会删除这两个版本之间的工作区和暂存区的所有修改内容；
- 但是如果不小心误操作的话，其实也不用太担心，Git中的所有操作都是可以回溯的，可以使用 `git reflog` 命令来查看一下我们操作的历史记录，然后找到误操作之前的版本号，然后再使用 `git reset` 命令来回退到这个版本就可以了

查看一下我们操作的历史记录：
```Git
git reflog
```
# 7. `git diff` 查看差异
(link1::[07.使用git diff查看差异](https://www.bilibili.com/video/BV1HM411377j?vd_source=aef73766b941d8e52cb9a97d24ea42a2&spm_id_from=333.788.videopod.sections&p=7))
### 功能
`git diff` 它可以
- 用来查看文件在工作区、暂存区以及版本库之间的差异，
- 它还可以查看文件在两个特定版本之间的差异或者文件在两个分支之间的差异；

- 那平时我们开发的时侯更多的是使用一些图形化的工具，但是了解一下 `git diff` 这个命令还是很有必要的，因为有的时候我们需要在一些没有图形化工具的服务器上来使用 Git，后面也会介绍一下如何在VSCode这些开发工具以及一些图形化的 GUI 工具中来查看版本之间的差异内容，
### 代码
`git diff` 后面如果什么都不加的话，会默认比较的是工作区和暂存区之间的差异内容，它会显示发生更改的文件以及更改的详细信息；
(link2::[代码演示](https://www.bilibili.com/video/BV1HM411377j?t=51.9&p=7))
`git diff` **命令输出**：
![[git diff结果代码.png|322x158]]
1. 第一行提示了我们发生变更的文件
2. 第二行【稍微解释一下】Git会将文件的内容使用哈希算法生成一个40位的哈希值，这里只显示了哈希值的前七位，后面的`100644`表示的是文件的权限；
3. 再往下就是刚刚修改的内容了，红色的文字表示删除的内容，绿色的是刚刚添加的内容

- 现在比较的是**工作区和暂存区之间的差异**，因为我们修改的内容还没有被添加到暂存区；没有任何内容，表示我们的工作区和暂存区的内容是相同的；

- **比较工作区和版本库之间的差异**：
```Git
git diff HEAD
```
- **比较暂存区和版本库之间的差异**：
```Git
git diff --cached
```




 

``` powershell

```

```Git

```




